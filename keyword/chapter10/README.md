## AWS 기초 개념 정리

### ✅ AWS
아마존 웹 서비스(Amazon Web Services, AWS)는 2006년에 시작된 아마존의 클라우드 플랫폼으로, 서버·스토리지·데이터베이스·AI 등 200여 개가 넘는 서비스를 제공합니다.  
세계 시장점유율 면에서 마이크로소프트의 애저(Azure), 구글 클라우드(GCP)와 함께 ‘빅3’로 불리며, 그중에서도 가장 오랫동안 운영돼 서비스 종류와 레퍼런스가 풍부하다는 것이 특징입니다.

---

### 🌍 리전과 가용영역
- **리전(Region)**: 물리적으로 분리된 데이터센터 묶음 (예: `ap-northeast-2`는 서울 리전)
- **가용영역(AZ)**: 한 리전 내 서로 다른 전원망/건물에 위치한 독립 인프라
- **고가용성 확보**: 최소 2개 AZ에 인스턴스 배치 권장

---

### 🌐 서브네팅 (Subnetting)
- 하나의 네트워크(CIDR 블록)를 여러 개의 작은 네트워크로 분할
- 예: `10.0.0.0/16` → `/24`, `/28` 단위로 서브넷 구성
- **장점**: 트래픽 분리, 브로드캐스트 감소, 보안 그룹/ACL 세분화

---

### 🧭 라우팅 (Routing)
- 목적지로 패킷을 전달하는 경로 결정
- AWS는 서브넷별 **라우팅 테이블**로 제어
- 목적지별 다음 홉 설정 (인터넷 게이트웨이, NAT 게이트웨이, VPC 피어링 등)
- **주의**: 0.0.0.0/0, CIDR 정확한 매핑 필수

---

### 🛡️ VPC (Virtual Private Cloud)
- AWS 내 논리적으로 격리된 네트워크 환경
- 자체 CIDR 정의 → 서브넷 구성 → 인스턴스, RDS 배치
- 온프레미스처럼 **방화벽, 서브넷, 라우팅** 설계 가능

---

### 📡 사설 IP 주소
- RFC 1918 사설 IP 대역:
  - `10.0.0.0/8`
  - `172.16.0.0/12`
  - `192.168.0.0/16`
- **VPC 내부 통신은 가능**, 인터넷 통신은 NAT/인터넷 게이트웨이 필요

---

### 🔁 포트포워딩 (Port Forwarding)
- 특정 포트 트래픽을 내부 포트로 전달
- EC2 보안 그룹, NACL, ALB/NLB 리스너 설정
- 예: `80 → 8080`, `443 → 8443`
- SSH 터널링 예: `localhost:8080 → EC2:3306`

---

### 🌐 NAT 프로토콜
- 사설 IP ↔ 공인 IP 변환
- **AWS 방식**:
  - NAT Gateway (관리형)
  - NAT Instance (사용자 관리형)
- **들어오는 연결 차단**: 보안성↑
- **용도**: 소프트웨어 업데이트, 외부 패키지 설치 등

---

### 🔢 포트 번호
- TCP/UDP 헤더에 포함되는 16비트 숫자
- 포트 범위:
  - `0–1023`: well-known (HTTP 80, HTTPS 443, SSH 22 등)
  - `1024–49151`: 등록 포트
  - `49152–65535`: 임시 (ephemeral)
- **보안 그룹 설정 시**: 최소한의 포트만 열어두는 것이 원칙
